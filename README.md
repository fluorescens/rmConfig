# rmConfig
Django-Python driven web service for remote GPIO configuration and data uploading from IoT capable devices 

# What this Project Does:
This is a Django-Python framework driven ultra light web service for managing the GPIO configuration of IoT capable devices and allowing for these devices in turn to uplad data to a remote database so it can be reviewed in a status page. Uploads are timestamped so it is know when/if failures occured because a device took too long to check in. The web pages themselves are delivered in pure HTML/CSS so they can be rendered on very low power devices like the web-capable Arduino without consuming all available RAM to render javascript. This particular service was build to remotely reconfigure solid state relay banks logically controlled by a raspberry pi and uploading data via an I2C bus. It is designed to be deployed on a Apache web server with a MySQL backend. 

# How it is Installed:
First download Django and Python on whatever system or distribution you are running. At this point you should probably make a dummy project and attempt to runserver and visit localhost:8000 to confirm the installation. You will need to then configure a MySQL server on your system and create a database matching the details in settings.py: you can change the username, table, or password but they must match what you have created. Be sure to also create a user profile in the python shell with a username and password. Then copy the rmconfig folder to wherever your installation directory for Django was located and paste it in, then cd to the manager.py containing level and run a "./ makemigrations" and then a "./migrate" just to be sure no errors pop up. After this try and visit /accounts/login and log in as the user you created following the Django steps for creating a user in the shell. You can create some mock instruments and recievers here as well, and this package comes with some for testing purposes. If you do not want them just query Objects.all().delete() and you can make your own. <br><br> The config file and python scripts should be placed onto the recieving/uploading remote machine and run with a program like chrontab at the frequency you would like to upload data and pull new configurations. The config file should be updated with your cloud instance and personal prefrences for timing: see the pulldown.py for details. Be advised connection to the cloud host is protected by an authentication token recieved on successful login and clicking "Issue durable token": The reciever/supplier unit must at least log in once successfully to the website to be issued this token, which is valid for up to a year. If the scripts are run on an unauthorized machine the server will just reply with "Access denied" and not allow the device to get or post information. <br><br> Deployment of this system for use on a cloud host requires using a real hosting service like Apache combined with mod-wsgi, which is an involved process and not discussed here. Inquiries about deploying and customizing this service can be discussed with its developer at jamesl@leppek.us


#Example Usage:
I want to remotely be able to control the power to my home security system, including cameras and servo controls that unlock my doors. I want to also check in on things like motion detection and the heat generated from my 3D printer to be sure it hasn't locked up. Normally this would be scattered across several controls, platforms, and devices. But by remotely deploying this service to a host like Amazon Web Services or Linode I have a remote database that IoT capable devices like a raspberry pi or arduino webshield can connect to. From my smartphone or PC I can log into my remote service and set which configuration I want an unlimited number of seperate recievers set to; letting me remotely power down devices by setting a GPIO pin low that controls a relay or opening a door by setting a certain pin high and activating a servo on a remote device. Likewise my oscillation detector and temperature sensors bundled to another Raspi can upload data packages to my remote server and I can view their data and timestamps to see that my 3D printer is still printing and hasn't overheated as of 2 minutes ago. All is well!

# How to Set Up the Development Enviornment:
Follow the linux instructions for setting up Django-Python. Digitalocean does an amazing writeup of getting going on CentOS7. 

# Change Propositions:
 This is an older freeware version of a more in depth service I've build and deployed. It is mostly for review and tweaking purposes so some features are intentionally left very light or absent. If you see any major issues with the code at hand or wish to propose an improvement, let me know at james@leppek.us. 
 
# Deployment:
 Deployment and configuration of the full service can be discussed at jamesl@leppek.us 
